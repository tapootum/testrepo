<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Git repositories - Redmine</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker,project,management" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="fdxIxSMmR/wnEX16w/gOv0V1I+0U4IIn+dgUJ1T+J4w="/>
<link rel='shortcut icon' href='/favicon.ico?1322400152' />
<link href="/themes/redmine/stylesheets/application.css?1268079058" media="all" rel="stylesheet" type="text/css" />

<script src="http://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/scriptaculous/1.8.2/effects.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/scriptaculous/1.8.2/dragdrop.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/scriptaculous/1.8.2/controls.js" type="text/javascript"></script>
<script src="/javascripts/application.js?1322400085" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1294505604);}
    </style>
<![endif]-->
<link href="/plugin_assets/redmine_plugin_directory/stylesheets/plugins.css?1295089290" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

  <link href="/stylesheets/scm.css?1322400085" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Redmine controller-messages action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="/login" class="login">Sign in</a></li>
<li><a href="/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="/" class="home">Home</a></li>
<li><a href="/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="/search/index/redmine" method="get">
        <input name="messages" type="hidden" value="1" />
        <label for='q'>
          <a href="/search/index/redmine" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1>Redmine</h1>

    
    <div id="main-menu">
        <ul><li><a href="/projects/redmine" class="overview">Overview</a></li>
<li><a href="/projects/redmine/wiki/Download" class="download">Download</a></li>
<li><a href="/projects/redmine/activity" class="activity">Activity</a></li>
<li><a href="/projects/redmine/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="/projects/redmine/issues" class="issues">Issues</a></li>
<li><a href="/projects/redmine/news" class="news">News</a></li>
<li><a href="/projects/redmine/wiki" class="wiki">Wiki</a></li>
<li><a href="/projects/redmine/boards" class="boards selected">Forums</a></li>
<li><a href="/projects/redmine/repository" class="repository">Repository</a></li></ul>
    </div>
    
</div>

<div class="" id="main">
    <div id="sidebar">
        

<br />
<script type="text/javascript"><!--
google_ad_client = "pub-0447284344517370";
google_alternate_color = "FFFFFF";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "EEEEEE";
google_color_bg = "FFFFFF";
google_color_link = "484848";
google_color_text = "484848";
google_color_url = "2A5685";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br />
<br />
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="438370">
<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="">
<img alt="" border="0" src="https://www.paypal.com/fr_FR/i/scr/pixel.gif" width="1" height="1">
</form>

        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/redmine/boards">Forums</a> » <a href="/projects/redmine/boards/2">Help</a> » </p>

<div class="contextual">
    <span class="message-85-watcher"></span>
    
    
    
</div>

<h2>Git repositories</h2>

<div class="message">
<p><span class="author">Added by <a href="/users/580">Bradford W</a> <a href="/projects/redmine/activity?from=2008-03-13" title="2008-03-13 15:35">almost 4 years</a> ago</span></p>
<div class="wiki">
<p>I can't tell you how overjoyed I was to find that git support had just been put in the previous night.  Having just jumped onto the git train (via GitHub) I thought I'd try it out.  I have a private repository over at github so I'm not sure if that's the case or if maybe I'm just not pointing redmine to the appropriate repository path.  I've tried pasting the following alterations with no luck as of yet...I know it's a new ticket and I'd absolutely love to rack on it and report bugs if any are found so any pointers as to what I'm doing wrong would be greatly appreciated.  Here's the try-list of paths:</p>


	<p><a class="external" href="https://github.com/&lt;username&gt;/&lt;projname&gt;/tree/master">https://github.com/&lt;username&gt;/&lt;projname&gt;/tree/master</a><br />git@github.com:&lt;username&gt;/&lt;projname&gt;.git (not a URL I know, I'm desperate...c'mon.)<br />git://git@github.com:&lt;username&gt;/&lt;projname&gt;.git<br />git://github.com:&lt;username&gt;/&lt;projname&gt;.git<br /><a class="external" href="http://github.com/&lt;username&gt;/&lt;projname&gt;.git">http://github.com/&lt;username&gt;/&lt;projname&gt;.git</a></p>


	<p>I don't know if it's the https that's the issue or not...I'm gonna have to plead ignorance on this one.</p>


	<p>When I set these in the Settings/Repository tab and then click the Project/Repository tab I get: Entry and/or revision doesn't exist in the repository.</p>


	<p>I noticed too that the functional test doesn't run, so I'm not sure if this is even intended functionality for people to start trying to utilize.</p>
</div>

</div>


<p>
<script type="text/javascript"><!--
google_ad_client = "pub-0447284344517370";
/* 468x15, created 10/11/09 */
google_ad_slot = "4617391515";
google_ad_width = 468;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p>




<h3 class="comments">Replies (14)</h3>

  <div class="message reply" id="message-86">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=86#message-86">RE: Git repositories</a>
    -
    Added by <a href="/users/475">John Goerzen</a> <a href="/projects/redmine/activity?from=2008-03-13" title="2008-03-13 15:39">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>It wants a path to a local Git repo.  As in /home/user/repos/project/.git</p>


	<p>I intend to deploy it in production this evening.  It seems rock solid to me.</p>


	<p>What test failure were you seeing, and did you follow the instructions in doc to untar the git repo before running the tests?</p></div>
  
  </div>

  <div class="message reply" id="message-88">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=88#message-88">RE: Git repositories</a>
    -
    Added by <a href="/users/580">Bradford W</a> <a href="/projects/redmine/activity?from=2008-03-13" title="2008-03-13 15:53">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Yea, that did it...stupid me not reading the docs!  I'll go sit in the corner now.  Thanks for pointing it out...</p></div>
  
  </div>

  <div class="message reply" id="message-178">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=178#message-178">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-19" title="2008-03-19 04:27">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Regarding the Redmine Git repo viewer, I can view when and by whom files were modified.  However, I cannot see commit comments and clicking on a revision link gives me an "Entry and/or revision doesn't exist in the repository." error.</p>


	<p>Should both of these items be working?</p></div>
  
  </div>

  <div class="message reply" id="message-185">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=185#message-185">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-19" title="2008-03-19 15:20">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>I have an update on my previous post.  After building to our server, I now am able to view our Git commits and comments but not the source tree.</p>


	<p>To to summarize:</p>


	<ul>
	<li>Local:

	<ul>
	<li>Can view source tree</li>
		<li>Cannot view commits / comments</li>
	</ul></li>
	</ul>


	<ul>
	<li>Server

	<ul>
	<li>Can view commits / comments</li>
		<li>Cannot view source tre</li>
	</ul></li>
	</ul>


	<p>Does anybody have any ideas either way?  (I've attached a couple screenshots.)</p></div>
  <div class="attachments">

<p><a href="/attachments/349/rm_git_local.png" class="icon icon-attachment">rm_git_local.png</a> - Redmine Git Viewer On Local Box
  <span class="size">(57.1 kB)</span>
  
  
  </p>

<p><a href="/attachments/350/rm_git_server.png" class="icon icon-attachment">rm_git_server.png</a> - Redmine Git Viewer On Server
  <span class="size">(57.1 kB)</span>
  
  
  </p>

</div>

  </div>

  <div class="message reply" id="message-187">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=187#message-187">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-19" title="2008-03-19 16:42">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Hopefully, this will be my last Git integration question...</p>


	<p>You have to have a .git repository on your Redmine server for every project you would like to follow with the Redmine repository viewer.  The issue with this is:</p>


	<ol>
	<li>You have to log into your Redmine server and do a "git clone" of every project you want to follow</li>
		<li>The commits on your Redmine viewer are not updated unless you log into your Redmine server and do a "git pull" for each project followed in Redmine</li>
	</ol>


	<p>Is this correct?  Are there any ways around either of these issues? (i.e. rake, cap, or chron tasks to automate the pull's for us?)</p>


	<p>- Jim</p></div>
  
  </div>

  <div class="message reply" id="message-192">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=192#message-192">RE: Git repositories</a>
    -
    Added by <a href="/users/475">John Goerzen</a> <a href="/projects/redmine/activity?from=2008-03-19" title="2008-03-19 23:03">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Well, I think the idea is that the git data for projects would tend to be local to the redmine server anyway.</p>


	<p>But if not, yes, you would have to git clone --bare once, then it would be trivial to set up a cron job that does a git fetch in each directory to pull in remote changesets.</p>


	<p>Git is distributed and by its very nature does not query a remote server for any log, path, etc. information.</p>


	<p>I am not following your local vs. server discussion above.  What exactly is the difference between your "local" setup and your "server" setup?  And are you sure you have pointed redmine at the .git directory?  (should contain entries like config, hooks, HEAD, etc)</p></div>
  
  </div>

  <div class="message reply" id="message-194">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=194#message-194">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-19" title="2008-03-19 23:26">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Hi John, thanks for the reply.</p>


	<p>Unfortunately, the majority of our projects are on a separate box from Redmine, but doing a git clone works + cron job should work since we are not setting up new projects all that often.</p>


	<p>As for my local vs server discussion, one screenshot shows the Redmine Git repo how it looks on my local machine where I can see the source tree but no commit data.  The second screenshot shows the Redmine Git repo on our main Redmine server where I can see commit data but no source tree.</p>


	<p>Both are pointing to the .git directory and both are using the same version of Redmine.  Judging by your response, you have not experienced this issue which makes me think I have something going on my end.  I'll dig a little deeper to see what I can find out.</p>


	<p>Thanks again.</p>


	<p>Jim</p></div>
  
  </div>

  <div class="message reply" id="message-195">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=195#message-195">RE: Git repositories</a>
    -
    Added by <a href="/users/475">John Goerzen</a> <a href="/projects/redmine/activity?from=2008-03-19" title="2008-03-19 23:47">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Right.  I've spot-checked a few just now, but from what I can see, all of my Git projects at <a class="external" href="http://software.complete.org/">http://software.complete.org/</a> are working just fine.</p>


	<p>Are you running Redmine trunk, or what version of Redmine do you have?</p></div>
  
  </div>

  <div class="message reply" id="message-196">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=196#message-196">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-20" title="2008-03-20 00:12">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Wow...Your repos look just like I was hoping for.</p>


	<p>I pulled from trunk last night.</p></div>
  
  </div>

  <div class="message reply" id="message-197">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=197#message-197">RE: Git repositories</a>
    -
    Added by <a href="/users/475">John Goerzen</a> <a href="/projects/redmine/activity?from=2008-03-20" title="2008-03-20 00:22">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>That is pretty much what I'm running, too.</p>


	<p>What versions of Git do you have on each machine?</p></div>
  
  </div>

  <div class="message reply" id="message-198">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=198#message-198">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-20" title="2008-03-20 00:26">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Good point about the Git version.</p>


	<p>My local is 1.5.3.6.</p>


	<p>Our server is 1.5.2.5.</p>


	<p>I have another computer that is running version 1.5.4.3.  Let me try it on that machine and see what I get.</p></div>
  
  </div>

  <div class="message reply" id="message-199">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=199#message-199">RE: Git repositories</a>
    -
    Added by <a href="/users/475">John Goerzen</a> <a href="/projects/redmine/activity?from=2008-03-20" title="2008-03-20 00:32">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Ah HA.  Both are too old.</p>


	<p>You need 1.5.4.2 or above, and this is documented at <a href="/projects/redmine/wiki/RedmineRepositories" class="wiki-page">RedmineRepositories</a>.</p></div>
  
  </div>

  <div class="message reply" id="message-200">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=200#message-200">RE: Git repositories</a>
    -
    Added by <a href="/users/551">Jim Mulholland</a> <a href="/projects/redmine/activity?from=2008-03-20" title="2008-03-20 00:44">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Wow...This is deja-vu all over again!  I had a similar forum conversation with JP a few months back when I couldn't get SVN working with Redmine and it turned out my version of SVN was too old!</p>


	<p>So I installed and verified on my computer with version 1.5.4.3 and all works there!</p>


	<p>I really do appreciate the help.  I apologize sending you down this wild goose chase!</p>


	<p>- Jim</p></div>
  
  </div>

  <div class="message reply" id="message-255">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/2/topics/85?r=255#message-255">RE: Git repositories</a>
    -
    Added by <a href="/users/367">Stuart George</a> <a href="/projects/redmine/activity?from=2008-03-23" title="2008-03-23 14:50">almost 4 years</a> ago
  </h4>
  <div class="wiki"><p>Instead of having cron jobs to fetch and pull on set intervals you can chmod +x the post-update hook to run after every commit. My post-update runs a script that does;</p>


	<p>line 2 is the local checkout path of the repo<br />line 4 is pulling from the master .git directory
{REPONAME} shows what you need to change, its not an environment var or anything<br />(so cut and paste wont work).</p>


<pre>
#!/bin/sh
cd /var/git/checkout/{REPONAME} || exit
unset GIT_DIR
git pull /var/git/repositories/{REPONAME}.git/ master
</pre>

	<p>My repo's are managed via gitosis so the raw repo appends a .git onto the end of the name. I have each repo checked out locally via git clone --local so I'm creating hardlinks and saving space.</p></div>
  
  </div>

<p class="pagination"> (1-14/14)</p>








        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2011 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
